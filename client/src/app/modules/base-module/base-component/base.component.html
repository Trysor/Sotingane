<header class="topHeader" [ngClass]="{ 'fixed': (mobileService.isMobile() | async) }">
  <button mat-icon-button *ngIf="mobileService.isMobile() | async" (click)="sidenavLeft.toggle(); sidenavRight.close()"
          class="navToggle" aria-label="Toggle navigation">
    <mat-icon>menu</mat-icon>
  </button>
  <a routerLink="/" class="title"><mat-icon svgIcon="logo" ngClass="logo"></mat-icon>otingane</a>
  <button mat-icon-button *ngIf="mobileService.isMobile() | async" (click)="sidenavRight.toggle(); sidenavLeft.close()"
          class="navToggle right" aria-label="Toggle user panel">
    <mat-icon [color]="(authService.getUser() | async) ? 'accent' : ''">person</mat-icon>
  </button>
</header>
<mat-progress-bar *ngIf="((loadingBarValue | async) > 0) && ((loadingBarValue | async) < 100)" color="accent" mode="determinate"
  [value]="loadingBarValue | async" ngClass="loading fixed"></mat-progress-bar>

<mat-sidenav-container ngClass="sidenavContainer">
  <!-- MOBILE LEFT -->
  <mat-sidenav #sidenavLeft mode="over" position="start" ngClass="sidenav" (swipeleft)="closeSideNavs()" [style.touch-action]="'pan-y'">
    <app-nav-component *ngIf="mobileService.isMobile() | async"></app-nav-component>
  </mat-sidenav>
  <!-- MOBILE RIGHT -->
  <mat-sidenav #sidenavRight mode="over" position="end" ngClass="sidenav" (swiperight)="closeSideNavs()" [style.touch-action]="'pan-y'">
    <app-control-panel-component *ngIf="mobileService.isMobile() | async"></app-control-panel-component>
  </mat-sidenav>

  <!-- MOBILE SWIPE TRIGGERS -->
  <div *ngIf="mobileService.isMobile() | async" class="swipe left" (swiperight)="sidenavLeft.open()"></div>
  <div *ngIf="mobileService.isMobile() | async" class="swipe right" (swipeleft)="sidenavRight.open()"></div>


  <div class="wrapper" [ngClass]="{ mobile: (mobileService.isMobile() | async) }">
    <!-- NAVIGATION BAR -->
    <div class="nav left" *ngIf="!(mobileService.isMobile() | async)">
      <app-nav-component></app-nav-component>
    </div>
    <!-- CONTENT -->
    <main class="main center">
      <router-outlet></router-outlet>
    </main>
    <!-- USER -->
    <aside class="user right" *ngIf="!(mobileService.isMobile() | async)">
      <app-control-panel-component></app-control-panel-component>
    </aside>
  </div>

  <!-- FOOTER -->
  <app-footer-component class="footer"></app-footer-component>
</mat-sidenav-container>
