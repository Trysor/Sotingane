/// <reference path="../../../node_modules/@angular/material/_theming.scss" />
@import '_theme_vars';
@import '~@angular/material/theming';



$custom-dark-theme-background: (
	status-bar: black,
	app-bar: map_get($mat-grey, 900),
	background: $textColor, /* Checkbox ticks etc */
	hover: rgba(white, 0.04),
	card: $materialBG,
	dialog: $materialBG,
	disabled-button: rgba(white, 0.12),
	raised-button: map-get($mat-grey, 800),
	focused-button: $light-focused,
	selected-button: map_get($mat-grey, 900),
	selected-disabled-button: map_get($mat-grey, 800),
	disabled-button-toggle: black,
	unselected-chip: map_get($mat-grey, 700),
	disabled-list-option: black,
);

$custom-dark-theme-foreground: (
	base:              white,
	divider:           $light-dividers,
	dividers:          $light-dividers,
	disabled:          $disabled, // $light-disabled-text
	disabled-button:   rgba(white, 0.3),
	disabled-text:     $disabled, // $light-disabled-text
	hint-text:         $disabled, // $light-disabled-text
	secondary-text:    $light-secondary-text,
	icon:              white,
	icons:             white,
	text:              $textColor,
	slider-min:        white,
	slider-off:        rgba(white, 0.3),
	slider-off-active: rgba(white, 0.3),
);


@function custom-dark-theme($primary, $accent, $warn) {
	@return (
		primary: $primary,
		accent: $accent,
		warn: $warn,
		is-dark: true,
		foreground: $custom-dark-theme-foreground,
		background: $custom-dark-theme-background
	);
}

@mixin mat-snack-bar-theme($theme) {
	$is-dark-theme: map-get($theme, is-dark);
	$accent: map-get($theme, accent);

	.mat-snack-bar-container {
		background: if($is-dark-theme, $materialBG, #323232);
		color: $textColor;
	}

	.mat-simple-snackbar-action {
		color: if($is-dark-theme, inherit, mat-color($accent));
	}
}

@mixin mat-table-theme($theme) {
	$background: map-get($theme, background);
	$foreground: map-get($theme, foreground);

	.mat-header-row {
		background: mat-color($background, 'card');
	}

	.mat-row, .mat-header-row {
		border-bottom-color: mat-color($foreground, divider);
	}

	.mat-header-cell {
		color: mat-color($foreground, secondary-text);
	}

	.mat-cell {
		color: mat-color($foreground, text);
	}
}


$app-theme: custom-dark-theme(
	mat-palette(nth($mat-primary, 1), nth($mat-primary, 2), nth($mat-primary, 3), nth($mat-primary, 4)),
	mat-palette(nth($mat-accent,  1), nth($mat-accent,  2), nth($mat-accent,  3), nth($mat-accent,  4)),
	mat-palette($mat-warn)
);

// Core
@include mat-core();
@include mat-core-theme($app-theme);

// Generic
@include mat-button-theme($app-theme);
@include mat-list-theme($app-theme);
@include mat-divider-theme($app-theme);
@include mat-icon-theme($app-theme);

// Forms
@include mat-input-theme($app-theme);
@include mat-form-field-theme($app-theme);
@include mat-checkbox-theme($app-theme);
@include mat-autocomplete-theme($app-theme);

// Layout
// @include mat-card-theme($app-theme);
@include mat-sidenav-theme($app-theme);
@include mat-expansion-panel-theme($app-theme);
@include mat-tabs-theme($app-theme);

// Features
@include mat-snack-bar-theme($app-theme);
@include mat-menu-theme($app-theme);
@include mat-select-theme($app-theme);
@include mat-dialog-theme($app-theme);
@include mat-paginator-theme($app-theme);
@include mat-table-theme($app-theme);

// User Feedback
@include mat-progress-bar-theme($app-theme);
@include mat-progress-spinner-theme($app-theme);
@include mat-tooltip-theme($app-theme);


// This here includes everything.
// @include angular-material-theme($app-theme);
